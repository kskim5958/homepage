<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    .ba-slider {
        position: relative;
        overflow: hidden;
        width: 600px;
        margin: auto;
    }

    .ba-slider img {
        width: 100%;
        display: block;
        max-width: none;
    }

    .ba-slider .resize {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        width: 50%;
        overflow: hidden;
    }


    .ba-slider .handle {
        /* Thin line seperator */
        position: absolute;
        left: 50%;
        top: 0;
        bottom: 0;
        width: 4px;
        margin-left: -2px;
        background: rgba(0, 0, 0, .5);
        cursor: ew-resize;
    }

    .ba-slider .handle:after {
        /* Big orange knob  */
        content: '';
        position: absolute;
        transform: translate(-50%, -50%);
        top: 50%;
        margin-left: 0;
        display: block;
        width: 178px;
        height: 178px;
        background: url(https://naju.museum.go.kr/images/kor/sub06/sub06_05_handle_01.png)no-repeat;
        color: white;
        font-weight: bold;
        font-size: 36px;
        text-align: center;
        line-height: 64px;

    }
</style>

<body>
    <div class="ba-slider">
        <img src="/img/comparison__implant__01__before.jpg" alt="1960년 서대전역 전경">
        <div class="resize">
            <img src="/img/comparison__implant__01__after.jpg" alt="2021년 서대전역 전경">
        </div>
        <span id="handle" class="handle"></span>
    </div>
</body>
<script src="/js/jquery-3.7.1.min.js"></script>
<script>
    (function (jQuery) {
        function drags(dragElement, resizeElement, container) {

            // Initialize the dragging event on mousedown.
            dragElement.on('mousedown.ba-events touchstart.ba-events', function (e) {

                dragElement.addClass('ba-draggable');
                resizeElement.addClass('ba-resizable');

                // Check if it's a mouse or touch event and pass along the correct value
                var startX = (e.pageX) ? e.pageX : e.originalEvent.touches[0].pageX;

                // Get the initial position
                var dragWidth = dragElement.outerWidth(),
                    posX = dragElement.offset().left + dragWidth - startX,
                    containerOffset = container.offset().left,
                    containerWidth = container.outerWidth();

                // Set limits
                minLeft = containerOffset + 10;
                maxLeft = containerOffset + containerWidth - dragWidth - 10;

                // Calculate the dragging distance on mousemove.
                dragElement.parents().on("mousemove.ba-events touchmove.ba-events", function (e) {

                    // Check if it's a mouse or touch event and pass along the correct value
                    var moveX = (e.pageX) ? e.pageX : e.originalEvent.touches[0].pageX;

                    leftValue = moveX + posX - dragWidth;

                    // Prevent going off limits
                    if (leftValue < minLeft) {
                        leftValue = minLeft;
                    } else if (leftValue > maxLeft) {
                        leftValue = maxLeft;
                    }

                    // Translate the handle's left value to masked divs width.
                    widthValue = (leftValue + dragWidth / 2 - containerOffset) * 100 / containerWidth + '%';

                    // Set the new values for the slider and the handle. 
                    $('.ba-draggable').css('left', widthValue);
                    $('.ba-resizable').css('width', widthValue);
                    // Bind mouseup events to stop dragging.
                }).on('mouseup.ba-events touchend.ba-events touchcancel.ba-events', function () {
                    dragElement.removeClass('ba-draggable');
                    resizeElement.removeClass('ba-resizable');
                    // Unbind all events for performance
                    $(this).off('.ba-events');
                });
                e.preventDefault();
            });
        }

        // Define plugin
        $.fn.beforeAfter = function (onReady) {
            onReady = onReady || function () { };
            onReady();

            var cur = this;
            // Adjust the slider
            var width = cur.width() + 'px';
            cur.find('.resize img').css('width', width);
            // Bind dragging events
            drags(cur.find('.handle'), cur.find('.resize'), cur);

            // Update sliders on resize. 
            // Because we all do this: i.imgur.com/YkbaV.gif
            $(window).resize(function () {
                var width = cur.width() + 'px';
                cur.find('.resize img').css('width', width);
            });

            return this;
        }
    }(jQuery));

    $('.ba-slider').beforeAfter();
</script>

</html>